<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RBXM → Asset ID Converter</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

<canvas id="bgCanvas"></canvas>

<div class="app">

    <!-- HEADER -->
    <header class="glass header">
        <div class="header-left">
            <div class="logo"><i class="fas fa-cube"></i></div>
            <div>
                <h1>RBXM Converter</h1>
                <span class="sub">.rbxm → Roblox Asset ID</span>
            </div>
        </div>
        <button class="btn btn-ghost" id="btnHelp"><i class="fas fa-question-circle"></i> Help</button>
    </header>

    <!-- STEPS BAR -->
    <div class="glass steps-bar">
        <div class="stp active" data-s="1"><div class="stp-c"><i class="fas fa-key"></i></div><span>API Key</span></div>
        <div class="stp-line" id="line1"></div>
        <div class="stp" data-s="2"><div class="stp-c"><i class="fas fa-upload"></i></div><span>File</span></div>
        <div class="stp-line" id="line2"></div>
        <div class="stp" data-s="3"><div class="stp-c"><i class="fas fa-cog"></i></div><span>Config</span></div>
        <div class="stp-line" id="line3"></div>
        <div class="stp" data-s="4"><div class="stp-c"><i class="fas fa-check"></i></div><span>Done</span></div>
    </div>

    <!-- PANELS -->
    <div class="panels">

        <!-- STEP 1 -->
        <section class="panel active" id="p1">
            <div class="glass card">
                <div class="card-top">
                    <div class="card-ico"><i class="fas fa-key"></i></div>
                    <h2>Enter API Key</h2>
                    <p>Roblox Open Cloud API Key</p>
                </div>
                <div class="field">
                    <label><i class="fas fa-shield-alt"></i> API Key</label>
                    <div class="input-wrap">
                        <input type="password" id="inKey" placeholder="Paste your API key here..." autocomplete="off">
                        <button class="btn-ico" id="btnEye"><i class="fas fa-eye"></i></button>
                    </div>
                    <small class="hint"><i class="fas fa-lock"></i> Key hanya digunakan sesi ini, tidak disimpan</small>
                </div>
                <div id="keyStatus" class="status-msg"></div>
                <div class="card-btns">
                    <button class="btn btn-text" id="btnHowKey"><i class="fas fa-question-circle"></i> Cara dapat API Key?</button>
                    <button class="btn btn-primary" id="btnValidate"><i class="fas fa-arrow-right"></i> Lanjut</button>
                </div>
            </div>
        </section>

        <!-- STEP 2 -->
        <section class="panel" id="p2">
            <div class="glass card">
                <div class="card-top">
                    <div class="card-ico"><i class="fas fa-cloud-upload-alt"></i></div>
                    <h2>Upload File</h2>
                    <p>Pilih file .rbxm atau .rbxmx</p>
                </div>
                <div class="drop-zone" id="dropZone">
                    <div class="drop-inner">
                        <i class="fas fa-cloud-upload-alt drop-icon"></i>
                        <h3>Drop file di sini</h3>
                        <p>atau klik untuk browse</p>
                        <span class="badge">.rbxm / .rbxmx • max 50MB</span>
                    </div>
                    <input type="file" id="inFile" accept=".rbxm,.rbxmx" hidden>
                </div>
                <div id="fileCard" class="file-card glass" style="display:none">
                    <div class="fc-ico"><i class="fas fa-cube"></i></div>
                    <div class="fc-info">
                        <b id="fName">-</b>
                        <small id="fSize">-</small>
                    </div>
                    <button class="btn-ico" id="btnRemove"><i class="fas fa-times"></i></button>
                </div>
                <div class="card-btns">
                    <button class="btn btn-ghost" id="btn2back"><i class="fas fa-arrow-left"></i> Back</button>
                    <button class="btn btn-primary" id="btn2next" disabled><i class="fas fa-arrow-right"></i> Lanjut</button>
                </div>
            </div>
        </section>

        <!-- STEP 3 -->
        <section class="panel" id="p3">
            <div class="glass card">
                <div class="card-top">
                    <div class="card-ico"><i class="fas fa-cog"></i></div>
                    <h2>Konfigurasi</h2>
                    <p>Atur detail asset sebelum upload</p>
                </div>
                <div class="field">
                    <label><i class="fas fa-tag"></i> Nama Asset *</label>
                    <input type="text" id="inName" class="inp" placeholder="Nama asset..." maxlength="50">
                    <small class="counter"><span id="cName">0</span>/50</small>
                </div>
                <div class="field">
                    <label><i class="fas fa-align-left"></i> Deskripsi</label>
                    <textarea id="inDesc" class="inp" rows="3" placeholder="Deskripsi (opsional)..." maxlength="1000"></textarea>
                    <small class="counter"><span id="cDesc">0</span>/1000</small>
                </div>
                <div class="field-row">
                    <div class="field">
                        <label><i class="fas fa-user-tag"></i> Creator Type</label>
                        <div class="sel-wrap">
                            <select id="inCreatorType" class="inp">
                                <option value="User">User</option>
                                <option value="Group">Group</option>
                            </select>
                            <i class="fas fa-chevron-down sel-arrow"></i>
                        </div>
                    </div>
                    <div class="field">
                        <label><i class="fas fa-id-badge"></i> <span id="lblCid">User ID</span> *</label>
                        <input type="text" id="inCid" class="inp" placeholder="Masukkan User ID...">
                    </div>
                </div>
                <div class="card-btns">
                    <button class="btn btn-ghost" id="btn3back"><i class="fas fa-arrow-left"></i> Back</button>
                    <button class="btn btn-primary" id="btnUpload"><i class="fas fa-rocket"></i> Upload ke Roblox</button>
                </div>
            </div>
        </section>

        <!-- STEP 4 -->
        <section class="panel" id="p4">
            <div class="glass card" id="resultBox"></div>
        </section>

    </div>

    <!-- FOOTER -->
    <footer class="glass footer">
        <span><i class="fas fa-heart"></i> Built for Roblox Developers • <i class="fas fa-lock"></i> Secure</span>
    </footer>
</div>

<!-- LOADING OVERLAY -->
<div id="loadingOverlay" class="overlay">
    <div class="glass load-card">
        <div class="spinner"><div></div><div></div><div></div></div>
        <h3 id="loadTitle">Uploading...</h3>
        <p id="loadMsg">Mohon tunggu</p>
        <div class="prog-bar"><div class="prog-fill" id="progFill"></div></div>
        <span class="prog-pct" id="progPct">0%</span>
    </div>
</div>

<!-- HELP MODAL -->
<div id="helpModal" class="overlay">
    <div class="glass modal">
        <div class="modal-head">
            <h2><i class="fas fa-book-open"></i> Panduan</h2>
            <button class="btn-ico" id="btnCloseHelp"><i class="fas fa-times"></i></button>
        </div>
        <div class="help-tabs">
            <button class="htab active" data-t="overview"><i class="fas fa-info-circle"></i> Overview</button>
            <button class="htab" data-t="apikey"><i class="fas fa-key"></i> API Key</button>
            <button class="htab" data-t="howto"><i class="fas fa-upload"></i> Cara Upload</button>
            <button class="htab" data-t="userid"><i class="fas fa-user"></i> User ID</button>
            <button class="htab" data-t="faq"><i class="fas fa-question"></i> FAQ</button>
        </div>
        <div class="help-body">

            <div class="hpanel active" id="ht-overview">
                <div class="help-hero"><i class="fas fa-exchange-alt"></i></div>
                <h3>Apa itu RBXM Converter?</h3>
                <p>Tool ini mengconvert file <b>.rbxm</b> (Roblox Model) menjadi <b>Asset ID</b> yang bisa dipakai di Toolbox Roblox Studio.</p>
                <div class="flow-visual">
                    <div class="fv"><div class="fv-i"><i class="fas fa-file"></i></div><span>.rbxm</span></div>
                    <i class="fas fa-arrow-right fv-arrow"></i>
                    <div class="fv"><div class="fv-i"><i class="fas fa-cloud-upload-alt"></i></div><span>Upload</span></div>
                    <i class="fas fa-arrow-right fv-arrow"></i>
                    <div class="fv"><div class="fv-i"><i class="fas fa-hashtag"></i></div><span>Asset ID</span></div>
                </div>
                <div class="info-box blue">
                    <i class="fas fa-shield-alt"></i>
                    <div><b>Privasi</b><p>API key TIDAK disimpan/di-log. Hanya dipakai saat sesi ini.</p></div>
                </div>
            </div>

            <div class="hpanel" id="ht-apikey">
                <h3><i class="fas fa-key"></i> Cara Mendapatkan API Key</h3>
                <div class="steps-list">
                    <div class="sl"><div class="sl-n">1</div><div><b>Buka Creator Dashboard</b><p>Kunjungi <a href="https://create.roblox.com/credentials" target="_blank">create.roblox.com/credentials</a></p></div></div>
                    <div class="sl"><div class="sl-n">2</div><div><b>Klik "CREATE API KEY"</b><p>Tombol di pojok kanan atas halaman credentials.</p></div></div>
                    <div class="sl"><div class="sl-n">3</div><div><b>Beri Nama</b><p>Contoh: "RBXM Converter"</p></div></div>
                    <div class="sl"><div class="sl-n">4</div><div><b>Add API System → "Assets"</b><p>Di bagian Access Permissions, pilih <b>Assets</b>.</p></div></div>
                    <div class="sl"><div class="sl-n">5</div><div><b>Enable Read & Write</b><p>Centang kedua operasi untuk Assets API.</p></div></div>
                    <div class="sl"><div class="sl-n">6</div><div><b>Tambah IP: 0.0.0.0/0</b><p>Di Security → Accepted IP → tambahkan <code>0.0.0.0/0</code></p></div></div>
                    <div class="sl"><div class="sl-n">7</div><div><b>Copy API Key!</b><p>⚠️ Copy segera! Key tidak bisa dilihat lagi setelah ditutup.</p></div></div>
                </div>
                <div class="info-box yellow">
                    <i class="fas fa-exclamation-triangle"></i>
                    <div><b>Penting!</b><p>Jangan share API key ke siapapun.</p></div>
                </div>
            </div>

            <div class="hpanel" id="ht-howto">
                <h3><i class="fas fa-upload"></i> Cara Upload</h3>
                <div class="steps-list">
                    <div class="sl"><div class="sl-n">1</div><div><b>Export dari Roblox Studio</b><p>Klik kanan model → "Save to File" → simpan sebagai <b>.rbxm</b></p></div></div>
                    <div class="sl"><div class="sl-n">2</div><div><b>Masukkan API Key</b><p>Paste key di Step 1, klik Validate.</p></div></div>
                    <div class="sl"><div class="sl-n">3</div><div><b>Upload File</b><p>Drag & drop atau klik untuk pilih file .rbxm</p></div></div>
                    <div class="sl"><div class="sl-n">4</div><div><b>Isi Konfigurasi</b><p>Nama asset, deskripsi, User/Group ID.</p></div></div>
                    <div class="sl"><div class="sl-n">5</div><div><b>Dapatkan Asset ID!</b><p>Copy Asset ID dan gunakan di Toolbox Roblox Studio.</p></div></div>
                </div>
            </div>

            <div class="hpanel" id="ht-userid">
                <h3><i class="fas fa-user"></i> Cara Cari User ID</h3>
                <div class="steps-list">
                    <div class="sl"><div class="sl-n">1</div><div><b>Buka profil Roblox kamu</b><p>Login ke roblox.com → klik profil</p></div></div>
                    <div class="sl"><div class="sl-n">2</div><div><b>Lihat URL</b><p>URL akan seperti: <code>roblox.com/users/<b>123456789</b>/profile</code><br>Angka itu adalah <b>User ID</b></p></div></div>
                </div>
                <br>
                <h3><i class="fas fa-users"></i> Cara Cari Group ID</h3>
                <div class="steps-list">
                    <div class="sl"><div class="sl-n">1</div><div><b>Buka halaman group</b><p>Buka group kamu di Roblox</p></div></div>
                    <div class="sl"><div class="sl-n">2</div><div><b>Lihat URL</b><p><code>roblox.com/groups/<b>7654321</b>/nama</code><br>Angka itu adalah <b>Group ID</b></p></div></div>
                </div>
            </div>

            <div class="hpanel" id="ht-faq">
                <h3><i class="fas fa-question-circle"></i> FAQ</h3>
                <div class="faq-list">
                    <div class="faq">
                        <button class="faq-q"><span>File apa yang didukung?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-a"><p><b>.rbxm</b> (binary) dan <b>.rbxmx</b> (XML). Max 50MB.</p></div>
                    </div>
                    <div class="faq">
                        <button class="faq-q"><span>Apakah API key aman?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-a"><p>Ya! Key hanya digunakan saat sesi, tidak disimpan di database manapun.</p></div>
                    </div>
                    <div class="faq">
                        <button class="faq-q"><span>Kenapa upload gagal?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-a"><p>Kemungkinan:<br>• API key invalid/expired<br>• Key tidak punya permission Assets (Read+Write)<br>• IP tidak di-whitelist (tambah 0.0.0.0/0)<br>• User/Group ID salah<br>• File corrupt/terlalu besar</p></div>
                    </div>
                    <div class="faq">
                        <button class="faq-q"><span>Di mana asset saya setelah upload?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-a"><p>• Search Asset ID di Toolbox Roblox Studio<br>• Kunjungi link Library yang diberikan<br>• Pakai script: <code>InsertService:LoadAsset(ID)</code></p></div>
                    </div>
                    <div class="faq">
                        <button class="faq-q"><span>Bisa upload ke Group?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-a"><p>Bisa! Ubah Creator Type ke "Group" dan masukkan Group ID. Pastikan akun API key punya izin upload di group tersebut.</p></div>
                    </div>
                    <div class="faq">
                        <button class="faq-q"><span>Cara export .rbxm dari Studio?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-a"><p>1. Pilih model di Explorer<br>2. Klik kanan → "Save to File..."<br>3. Pilih format .rbxm<br>4. Save</p></div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- TOASTS -->
<div id="toasts"></div>

<script src="script.js"></script>
</body>
</html>
